% Generated by hand
\name{hwsd_extract}
\alias{hwsd_extract}
\title{Extract HWSD v2.0 attributes (point or bbox)}
\usage{
hwsd_extract(location, param = "ALL", layer = "D1", path = tempdir(),
  ws_path = file.path(tempdir(), "ws_db"), internal = TRUE,
  tiles_deg = Inf, cores = 1, verbose = FALSE)
}
\arguments{
\item{location}{Point c(lon, lat) or bbox c(lon_min, lat_min, lon_max, lat_max); \code{sf} bbox is also accepted.}
\item{param}{Character vector of property names; \code{"ALL"} selects all available attributes (numeric-only for bbox).}
\item{layer}{Soil layer code (\code{"D1"}--\code{"D7"}).}
\item{path}{Output path when writing raster (used if \code{internal = FALSE}).}
\item{ws_path}{Path to HWSD index grid; will be downloaded if missing.}
\item{internal}{If \code{TRUE}, return in-memory raster; if \code{FALSE}, write to \code{path}.}
\item{tiles_deg}{Optional tiling size (degrees) for large bboxes; when finite and smaller than extent, tiles are processed and mosaicked.}
\item{cores}{Number of cores for tiling; uses \code{parallel::mclapply} on non-Windows.}
\item{verbose}{Show progress messages.}
}
\value{
tibble for point queries; \code{terra::SpatRaster} (or file path if \code{internal=FALSE}) for bbox queries.
}
\description{
Extract HWSD v2.0 attributes for points or bounding boxes using the downloaded index grid and bundled attribute table.
}
\examples{
\dontrun{
# point query (tibble)
hwsd_extract(
  location = c(120, 30),
  param = c("SAND", "PH_WATER"),
  layer = "D1",
  ws_path = "D:/data/HWSD2"
)

# bbox query (SpatRaster) with tiling for large areas
hwsd_extract(
  location = c(70, 18, 140, 54),
  param = "SAND",
  layer = "D1",
  ws_path = "D:/data/HWSD2",
  tiles_deg = 5,
  cores = 4,
  internal = TRUE
)
}
}
